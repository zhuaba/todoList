{"version":3,"sources":["App.js","store/reducers/reducer.js","store/index.js","index.js"],"names":["App","state","task","handleClick","dispatch","_this","props","console","log","type","title","setState","handleChange","e","target","value","this","Object","assign","complete","filter","todos","item","_this2","displayWay","react_default","a","createElement","onChange","onClick","map","key","id","className","UpdateState","bind","showWay","React","Component","connect","initState","genID","createGenId","todoList","arguments","length","undefined","action","concat","toConsumableArray","newtodos","newtodo","i","current","push","store","createStore","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.391fc3aa.chunk.js","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport './App.css'\r\n\r\nclass App extends React.Component{\r\n    state={task:''}\r\n    handleClick=()=>{\r\n        const {dispatch}=this.props\r\n        console.log(this.state.task)\r\n        const { task } = this.state;\r\n        dispatch({type:'add',title:task})\r\n        this.setState({\r\n            task: \"\"\r\n        });\r\n    }\r\n    handleChange=(e)=>{\r\n        this.setState({\r\n            task:e.target.value\r\n        })\r\n    }\r\n    UpdateState(value){\r\n        const {dispatch}=this.props\r\n        const newValue=Object.assign({},value,{complete:!value.complete})\r\n        dispatch({type:'update',value:newValue})\r\n    }\r\n    showWay(value){\r\n        const {dispatch}=this.props\r\n        dispatch({type:'showway',filter:value})\r\n\r\n    }\r\n    displayWay(){\r\n        const {todos}=this.props\r\n        if(this.props.filter==='all'){\r\n            return todos\r\n        }else if(this.props.filter==='complete'){\r\n            return todos.filter((item)=>(item.complete===true))\r\n        }else if(this.props.filter==='active'){\r\n            return todos.filter((item)=>(item.complete===false))\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        const todos=this.displayWay()\r\n        return(\r\n            <div>\r\n                <h1>Task List:</h1>\r\n                <input value={this.state.task} onChange={this.handleChange}/>\r\n                <button onClick={this.handleClick}>Add Task</button>\r\n                <ul>\r\n                    {todos.map((item)=>(\r\n                        <li key={item.id} className={item.complete?'complete':''} onClick={this.UpdateState.bind(this,item)}>{item.title}</li>\r\n                    ))}\r\n                </ul>\r\n                <div>\r\n                    <button onClick={this.showWay.bind(this,'all')}>Show All</button>\r\n                    <button onClick={this.showWay.bind(this,'complete')}>Has Completed</button>\r\n                    <button onClick={this.showWay.bind(this,'active')}>Waiting to Do</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//export default App\r\nexport default connect((state)=>{\r\n    console.log('state is ---->',state)\r\n    return {\r\n        todos:state.todos,\r\n        filter:state.filter,\r\n    }\r\n},(dispatch)=>{\r\n    console.log('dispatch',dispatch)\r\n    return {\r\n        dispatch:dispatch\r\n    }\r\n})(App)","\r\nconst initState = {\r\n    todos:[],\r\n    filter:\"all\",   //all,complete,active\r\n}\r\n\r\nfunction createGenId(){\r\n    let id = 0;\r\n    return function(){\r\n        return id++;\r\n    }\r\n}\r\n\r\n\r\nconst genID=createGenId();\r\n\r\nfunction todoList(state=initState,action){\r\n    switch(action.type){\r\n        case \"add\":\r\n            {\r\n                const todos=[...state.todos,{\r\n                    id:genID(),\r\n                    title:action.title,\r\n                    complete:false\r\n                }]\r\n                const newState=Object.assign({},state,{todos:todos})\r\n                return newState;\r\n            }\r\n        case 'update':    //点击li变更complete出现了问题，待调试；\r\n            {\r\n                const newtodos=[];\r\n                const newtodo=action.value;\r\n                for(let i in state.todos){\r\n                    var current=state.todos[i]\r\n                    if(current.id === newtodo.id){\r\n                        newtodos.push(newtodo)\r\n                    }else{\r\n                        newtodos.push(current)\r\n                    }\r\n                }\r\n                const newState=Object.assign({},state,{todos:newtodos})\r\n                return newState;\r\n            }\r\n        case 'showway':\r\n            {\r\n                const newState=Object.assign({},state,{filter:action.filter})\r\n                return newState;\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default todoList","import { createStore } from 'redux'\r\nimport todoList from './reducers/reducer'\r\n\r\nconst store=createStore(todoList);\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App.js'\r\nimport {Provider} from 'react-redux'\r\nimport store from './store/index'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    ,document.getElementById('root'));"],"sourceRoot":""}